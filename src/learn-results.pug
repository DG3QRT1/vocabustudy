extends includes/layout.pug
block variables
    - var title = "Learn Results";
    - var description = "Results on your Learn Session";
    - var showBack = true;
block extrahead
    meta(name="robots" content="noindex")
block content
    div.page#home
        h1 Learn Results
        div.container-results(style="overflow-wrap: break-word;")
        p This information never leaves your computer, and is deleted when you close Vocabustudy
append scripts-footer
    script. 
        let learnResults = opener?.temp_learnResults;
        if (learnResults) {
            delete opener?.temp_learnResults;
            if (learnResults.results.length < 1) document.querySelector(".container-results").innerText = "No missed questions!";
            else {
                learnResults.results.forEach(el => {
                    let row = document.querySelector(".container-results").appendChild(document.createElement("p"));
                    row.appendChild(document.createElement("strong")).innerText = el[1] + " ";
                    row.appendChild(document.createElement("span")).innerText = el[2];
                });
                let btn = document.querySelector(".container-results").appendChild(document.createElement("button"));
                btn.classList.add("button", "button--raised");
                btn.appendChild(document.createElement("span")).classList.add("button__ripple");
                let label = btn.appendChild(document.createElement("span"));
                label.classList.add("button__label");
                label.innerText = "Star All Terms";
                btn.addEventListener("click", () => {
                    opener.StarredTerms.setStars(learnResults.results.map(el => el[0]), true);
                    btn.disabled = true;
                    btn.querySelector("span:last-child").innerText = "Starred";
                });
            }
        }